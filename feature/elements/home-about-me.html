<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<link rel="import" href="./msk-edit-form.html">


<dom-module id="home-about-me">
  
    <style include="shared-styles">
      :host{
        font-family: 'Titillium';
        font-size: 16px;
        height: 250px;
      }
      hr.horizontal-line {
        border: 0;
        height: 1px;
        background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.40), rgba(0, 0, 0, 0));
        margin: 20px 0px 0px 0px;
      }
      .title{
        font-family: 'Mirza';
        font-size: 24px;
        color: var(--msk-primary-color);
      }
      .card-content{
        font-family: 'Titillium';
        text-align: left;
        color: var(--msk-text-special-color);
      }
      .card-actions{
        font-weight: 700;
      }
      paper-card{
        --paper-card-background-color: #fafafa;
        font-family: 'Titillium';
        width: 100%;
        height: 300px;
        --paper-card-header-color: var(--msk-primary-color);
        --paper-card-actions: {
          color: var(--msk-secondary-color);
        }
      }
      
      paper-item a{
        color: var(--msk-secondary-color);
      }
      paper-item:hover{
        background-color: var(--msk-primary-color);
        @apply(--shadow-elevation-24dp);
      }
      paper-button {
        font-family: 'Titillium';
      }
      .heading{
        padding-bottom: 16px;
        width: 100%;
        font-size: 24px;
        font-weight: 400;
        color: var(--msk-primary-color);
      }
      .card-content{
        height: 200px;
      }
      .card-actions{
        max-height: 4vw ;
      }
      .social-icons{
        height: 50px;
      }

    </style>
    <template>
    <!-- <div class="flex-horizontal"> -->
      <!--<div class="flexchild title">{{titleMe}} <i class="fa fa-pencil"></i></div>-->
      <hr class="horizontal-line">
      <paper-card heading="" elevation=1>

        <div class="card-content">
          <div class="heading">
            <span>{{titleMe}}</span>
            <template is="dom-if" if="{{editEnabled}}">
              <span style="float: right; "><paper-button on-tap="editMe" type={{type}} style="min-width: 25px; padding: 0px;">
                <i class="fa fa-pencil" type={{type}}></i></paper-button> </span>
            </template>
          </div>   
          <template is="dom-if" if="{{isAboutMe(type)}}">       
            <div>{{aboutMe2}}</div>
            <div>{{aboutMe}}</div>
          </template>
           <template is="dom-if" if="{{isDetail(type)}}">       
            <content></content>
          </template>
        </div>
        <div class="card-actions">
          <template is="dom-if" if="{{isResumeButton(footerContent)}}">
            <paper-button elevation="2">Download My Resume</paper-button>
          </template>
          <template is="dom-if" if="{{showSocialIcons(footerContent)}}">
            <div class="flex-horizontal-with-ratios social-icons" >
              <paper-item raised>
                <a href="http://www.linkedin.com/in/mohammed-shahid-khan" target="social" title="LinkedIn">
                  <i class="fa fa-linkedin"></i>
                </a>
              </paper-item>
              <paper-item raised>
                <a href="https://twitter.com/sh_a_hid" target="social" title="Twitter">
                  <i class="fa fa-twitter"></i>
                </a>
              </paper-item>
              <paper-item raised>
                <a href="https://github.com/mshahidkhan" target="social" title="Github">
                  <i class="fa fa-github"></i>
                </a>
                </paper-item>
              <paper-item raised>
                <a href="https://codepen.io/khanshahid" target="social" title="Codepen">
                  <i class="fa fa-codepen"></i>
                </a>
              </paper-item>
            </div>
          </template>
        </div>
      </paper-card>
    <!-- </div> -->
  </template>
  <script>
    Polymer({
      is: 'home-about-me',
      properties: {
        titleMe: {
          type: String,
          notify: true,
          value: 'My Story'
        },
        
        footerContent: {
          type: String,
          notify: true
        }        
      },
      ready: function(){
        
      },
      isResumeButton: function(footerContent){
        if(footerContent === 'button'){
          return true;
        }else{
          return false;
        }
      },
      editMe: function(e){
        var modalGen = document.createElement('modal-generator');

        var editForm = document.createElement('msk-edit-form');
        editForm.type = e.target.type;
        editForm.aboutMe = this.aboutMe;
        modalGen.$$('#main-container').appendChild(editForm);
        modalGen.id = e.target.id;

        var modalDiv = document.getElementById("modalSpace");
        if(modalDiv.hasChildNodes()){
          var childNodes = modalDiv.childNodes;
          Polymer.dom(modalDiv).removeChild(childNodes[0]);  
        }        
        Polymer.dom(modalDiv).appendChild(modalGen);
      },
      showSocialIcons: function(footerContent){
        if(footerContent === 'social'){
          return true;
        }else{
          return false;
        }
      },
      isAboutMe: function(type){
        if(type === 'aboutme')
          return  true;
        else
          false;
      },
      isDetail: function(type){
        if(type === 'details')
          return  true;
        else
          false;
      }  
    });
  </script>
</dom-module>