<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="../../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../../bower_components/paper-slider/paper-slider.html">

<link rel="import" href="./modal-generator.html">
<link rel="import" href="./msk-skills.html">
<link rel="import" href="./msk-experience.html">
<link rel="import" href="./msk-education.html">
<link rel="import" href="./home-about-me.html">
<link rel="import" href="./msk-customize-button.html">

<dom-module id="msk-home">
    <template>
      <style is="custom-style" include="shared-styles">     
      
      .msk-title {
          border-bottom: 1px solid #e1e2e5;
      }
      .side-menu{
        width: 250px;
        border: 1px solid #ccc;        
      }
       
      .section-skills{
        font-family: 'Mirza';
        background-color: var(--msk-primary-color, '#00bcd4');
      }
      .section-two{
        font-family: 'Lato';
        background-color: #fafafa !important;;
        padding-bottom: 50px;
      }
      .section-two-head{
        font-family: 'OpenSans';
        font-size: 32px;
        padding: 15px;
      }
      .section-two-subhead{
        font-family: 'Titillium';
        font-size: 18px;
      }
      .section-one{
        font-family: 'Mirza';
        background-color: var(--msk-primary-color, '#00bcd4');
        padding-bottom: 10px;
        @apply --shadow-elevation-2dp;
      } 
      .section-three{
        font-family: 'Mirza';
        background-color: var(--msk-primary-color, '#00bcd4');
        padding-bottom: 50px;
        @apply --shadow-elevation-2dp;
      }
      .section-experience{
        font-family: 'Mirza';
        background-color: #fafafa !important;
        padding-bottom: 50px;
        @apply --shadow-elevation-2dp;
      }
      .section-three-head{
        font-family: 'Mirza';
        font-size: 48px;
        padding: 15px;
      }
      .section-three-subhead{
        font-family: 'DancingScript';
        font-size: 18px;
      }
      .section-four{
        font-family: 'Titillium';
        background-color: #fff !important;
        padding-bottom: 25px;
      }
      .section-four-head{
        font-family: 'Titillium';
        font-size: 48px;
        padding: 50px;
      }
      .section-four-subhead{
        font-family: 'Titillium';
        font-size: 18px;
      }
      
      .center-me{
        align-content: center;
        text-align: center;
      }
      paper-button.msk-button{
        padding: 0.9em 2.97em;
        background-color: #fff !important;
      }
      paper-button.msk-button:hover{
        background-color: #252525 !important;
        color: #fff !important;
        padding: 0.9em 2.97em;
      }
      iron-image{
        margin: 0px auto;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2); 
        width:320px; 
        height:260px; 
        background-color: #fafafa !important;
        z-index: 1;
      }
      .my-div{
        color: rgb(114, 114, 114);
        margin-bottom: 12px;
        border-bottom: 1px solid rgb(238, 238, 238);
      }
      .fab-settings {
        margin-left: 10px;
        margin-right: 10px;
        margin-bottom: 70px;
        position: fixed;
        right: 35px;
        bottom: 12px; 
        color: var(--msk-secondary-color);
        background-color: #fff;  
        z-index: 100;      
      }
      .fab-edit {
        margin-left: 10px;
        margin-right: 10px;
        margin-bottom: 70px;
        position: fixed;
        right: 35px;
        bottom: 75px; 
        color: var(--msk-secondary-color);
        background-color: #fff;  
        z-index: 100;      
      }
      paper-toast {
        position: fixed;
        bottom: 35px; 
        left: 600px;
        right: 0px;
        color: var(--msk-primary-color);
        margin-right: 10px;
        margin-bottom: 70px;
        background-color: #fff;  
        height: 150px;
        max-width: 300px;      
      }
      .footer{
        background: #f0f0f0;
      }

      .flex-equal-around-justified {
        @apply(--layout-horizontal);
        @apply(--layout-around-justified);
      }  
      .about-me{
        width: 35%;
      }
      .my-hightlights{
        width: 30%;
      }
      .my-details{
        width: 30%;
      }
      

      @media (max-width: 768px) {
        paper-fab{
          height: 40px;
          width: 40px;
        }
        .fab-settings {
          bottom: 10px; 
          right: 0px;
        }
        .fab-edit {
          bottom: 75px; 
          right: 0px;
        }
         .about-me{
          width: 100%;
        }
        .my-details{
          width: 100%;
        }
        .my-hightlights{
          width: 100%;
        }
        .home-details-section{
          flex-direction: column;
          justify-content: center;

        }
        .section-four-subhead{
          font-size: 10px;
        }
      }
    </style>
      <div id="modalSpace"></div>
      <paper-toast id="toast1" class="capsule" horizontal-align="right" duration="0" text="">
        <color-selector></color-selector>
      </paper-toast>

      <paper-fab class="fab-settings" icon="settings" title="Settings" onclick="toast1.open()"></paper-fab>
      <paper-fab class="fab-edit" icon="create" title="Edit" on-tap="editEnable"></paper-fab>
      

      <div class="flex-wrap section-two">  
          <div class="flexchild center-me">
            <msk-user-avatar type="main"></msk-user-avatar>
          </div>
      </div>
      <div class="flex-center-justified section-two home-details-section">  
          <div class="about-me">
            <home-about-me title-me="About Me" type="aboutme" about-me="{{aboutMe}}" about-me-two={{aboutMeTwo}} footer-content="button" edit-enabled={{editEnabled}} >
            </home-about-me>
          </div>
          <div class="my-hightlights center">
            <home-about-me title-me="Highlights" type="myhighlights" my-hightlight="{{aboutMe}}" edit-enabled={{editEnabled}} >
            </home-about-me>
          </div>          
          <div class="my-details center">
            <home-about-me title-me="Personal Details" type="details" details-data={{userPersonalData}} footer-content="social" edit-enabled={{editEnabled}}>
            </home-about-me>
          </div>
      </div>
      <div class="section-skills">
        <div class="flex-center-justified section-three-head">
          <msk-skills></msk-skills>
        </div>
      </div>
      
      <div class="section-experience">
        <div class="flex-center-justified section-three-head">
          <msk-experience></msk-experience>
        </div>
      </div>
      <div class="section-skills">
        <div class="flex-center-justified section-three-head">
          <msk-education></msk-education>
        </div>
      </div>
      <div class="section-footer">        
        <div class="home-details-section section-four-subhead center-me footer">
          <div>This site is built with Google Polymer, Javascript, CSS, HTML5. Frameworks/Libraries, Images, fonts and design used in this project are either Open Source/Free or my personal property.</div>
          <div>If any element of my design/code matches with your personal/proprietary element and/or happen to be personal, please contact me in such case and I will clarify or make amendment accordingly.</div>    
        </div>      
        <div style="color: darkgray;"><i class="fa fa-copyright"></i> Copyright - 2016 - www.khanshahid.com</div>    
      </div>
    </template>
  
    <script>
        Polymer({
            is: "msk-home",
            properties: {
              editEnabled: {
                type: Boolean,
                notify: true,
                value: false
              },
              aboutMe: {
                type: String,
                notify: true  
              },
              userPersonalData:{
                type: Object,
                notify: true,
                value: {
                  personal: {
                  name: 'Mohammed Shahid Khan', 
                  phone: '0123456789', 
                  email: 'shahid.manit@gmail.com', 
                  location:'Oklahoma City, OK'
                  },                
                  social: {
                    linkedin: 'http://www.linkedin.com/in/mohammed-shahid-khan' ,
                    twitter: 'https://twitter.com/sh_a_hid',
                    github: 'https://github.com',
                    codepen: 'https://codepen.io/khanshahid'
                  }
                }
              }
              
            },
            ready: function () {
              this.aboutMe = "Iâ€™m a Web Application Developer. I have been developing Web applications & Portals with strong Frontend, Middleware and Backend experience for over 10 years. I am currently working for GE Oil & Gas in Oklahoma City, OK. I hold a master degree of Computer Science from the National Institute of Technology, Bhopal, India. ";
              this.aboutMeTwo = "Before falling in love with Frontend Development, I worked with Java/Java EE, Middleware and different databases.";
              this.experienceTitle = "Experience";
              this.userPersonalData = {
                personal: {
                  name: 'Mohammed Shahid Khan', 
                  phone: '0123456789', 
                  email: 'shahid.manit@gmail.com', 
                  location:'Oklahoma City, OK'
                },                
                social: {
                  linkedin: 'http://www.linkedin.com/in/mohammed-shahid-khan' ,
                  twitter: 'https://twitter.com/sh_a_hid',
                  github: 'https://github.com/mshahidkhan',
                  codepen: 'https://codepen.io/khanshahid'
                }};
            },
          populateData: function(e){
              console.log(e.target.id);
          },
          editEnable: function(e){
            this.editEnabled = !this.editEnabled;
          },
          handleTap: function (e){
            var modalGen = document.createElement('modal-generator');
            modalGen.id = e.target.id;
            modalGen.title = 'Login';
            modalGen.msg = 'This is the message';
            modalGen.actionPositive = null;
            modalGen.actionNegative = null;

            var modalDiv = document.getElementById("modalSpace");
            if(modalDiv.hasChildNodes()){
              var childNodes = modalDiv.childNodes;
              Polymer.dom(modalDiv).removeChild(childNodes[0]);  
            }        
            Polymer.dom(modalDiv).appendChild(modalGen);
          },
          
          customizeProfile: function(){
            console.log("Customize Profile");
          }         
        });
    </script>
</dom-module>

<dom-module is="color-selector">
  <template>
    <style include="shared-styles">
      .color-selection-bar{
        height: 25px;
        width: 25px;
        border:1px transparent;
      } 
      paper-button.toast-close{
        min-width: 15px;
        width: 15px;
        float:right;
      }

    </style>

        <div>
          <div>
            <paper-button onclick="toast1.toggle()" class="toast-close">
              <i class="fa fa-close"></i>
            </paper-button>
          <div>
          <div class="flex-horizontal-with-ratios">
          <span>Choose primary color -</span>
            
          </span>
          </div>
          <div class="flex-horizontal-with-ratios">
            <a on-tap="selectPrimaryColor" class="color-selection-bar" style="background-color:#00bcd4; color:#00bcd4;" color="#00bcd4"></a>
            <a on-tap="selectPrimaryColor" class="color-selection-bar" style="background-color:#ff4081; color:#ff4081;" color="#ff4081"></a>
            <a on-tap="selectPrimaryColor" class="color-selection-bar" style="background-color:#C043D5; color:#C043D5;" color="#C043D5"></a>
            <a on-tap="selectPrimaryColor" class="color-selection-bar" style="background-color:#73D077; color:#73D077;" color="#73D077"></a>
            <a on-tap="selectPrimaryColor" class="color-selection-bar" style="background-color:#1ABBAC; color:#1ABBAC;" color="#1ABBAC"></a>
            <a on-tap="selectPrimaryColor" class="color-selection-bar" style="background-color:#EAB82E; color:#EAB82E;" color="#EAB82E"></a>
            <a on-tap="selectPrimaryColor" class="color-selection-bar" style="background-color:#799CAC; color:#799CAC;" color="#799CAC"></a>  
          </div>
        </div> 
        <div>
          <span>Choose Secondary color -</span>
          <div class="flex-horizontal-with-ratios">
            <a on-tap="selectSecondaryColor" class="color-selection-bar" style="background-color:#00bcd4; color:#00bcd4;" color="#00bcd4"></a>
            <a on-tap="selectSecondaryColor" class="color-selection-bar" style="background-color:#ff4081; color:#ff4081;" color="#ff4081"></a>
            <a on-tap="selectSecondaryColor" class="color-selection-bar" style="background-color:#C043D5; color:#C043D5;" color="#C043D5"></a>
            <a on-tap="selectSecondaryColor" class="color-selection-bar" style="background-color:#73D077; color:#73D077;" color="#73D077"></a>
            <a on-tap="selectSecondaryColor" class="color-selection-bar" style="background-color:#1ABBAC; color:#1ABBAC;" color="#1ABBAC"></a>
            <a on-tap="selectSecondaryColor" class="color-selection-bar" style="background-color:#EAB82E; color:#EAB82E;" color="#EAB82E"></a>
            <a on-tap="selectSecondaryColor" class="color-selection-bar" style="background-color:#799CAC; color:#799CAC;" color="#799CAC"></a>  
          </div>
        </div>
        <paper-button on-tap="saveColorSelection" class="yellow-button">Save</paper-button>
        <paper-button onclick="toast1.toggle()" class="yellow-button">Close</paper-button>
  </template>
  <script>
    Polymer({
      is: "color-selector",
      properties: {

      },
      ready: function(){

      },
      attached: function(){
        this.colorSelection = {primary: '#00bcd4', secondary: '#ff4081'};
      },
      saveColorSelection: function(e){
        //this.colorSelection.primary =
        if(this.colorSelection.primary !== ''){
          this.parentElement.parentElement.parentElement.parentElement.customStyle["--msk-primary-color"] = this.colorSelection.primary;   
        } 
        if(this.colorSelection.secondary !== ''){
          this.parentElement.parentElement.parentElement.parentElement.customStyle["--msk-secondary-color"] = this.colorSelection.secondary;
        }
        Polymer.updateStyles();
      },
      selectPrimaryColor: function(e){
        console.log('Primary Color Selection');
        this.colorSelection.primary = e.target.getAttribute('color');
        //this.parentElement.parentElement.customStyle["--msk-primary-color"] = e.target.getAttribute('color');
        //this.parentElement.parentElement.updateStyles();
      },
      selectSecondaryColor: function(e){ 

        console.log('Secondary Color Selection'+ e.target.getAttribute('color'));
        this.colorSelection.secondary = e.target.getAttribute('color');
        //this.parentElement.parentElement.customStyle["--msk-secondary-color"] = e.target.getAttribute('color');
        //this.parentElement.parentElement.updateStyles();
      }
    })
  </script>
</dom-module>